---
title: 20250105CTF学习笔记32
date: 2025-01-05
tags:
 - CTF
 - CTFLearn
categories:
   - 命理学 Numerology
isShowComments: true
publish: true


















---

<Boxx/>

从0开始学习CTF，了解CTF基本规则、方法，这是开始打卡学习的第48天

今日内容：Web架构&OSS存储&负载均衡&CDN加速&反向代理&WAF防护

[[toc]]

- 小迪安全视频地址【[🔗传送门]([https://www.bilibili.com/video/BV123yAYMEwb/)】

<!-- more -->

# 第22章：Web架构&OSS存储&负载均衡&CDN加速&反向代理&WAF防护

## 负载均衡

### **原理：**

分摊到多个操作单元上执行，共同完成工作任务

![image-20250105201826936](/img/ctfLearn/image-20250105201826936.png)

用CDN这个图也能解释负载均衡，能提高访问速度，提高速度，还有一个功能是容灾。

### **影响：**

有多个服务加载服务，测试过程中存在多个目标情况

### **演示：**

Nginx负载均衡配置

Windows2012+BT宝塔面板+Nginx

- 在宝塔面板中，我们点击站点的设置，选择配置文件，修改一下内容

- ```nginx
  # 定义负载设置 以下内容要放到最外一层
  upstream fzjh{
  	server 47.94.236.117:80 weight=2;
      server 47.122.22.195:80 weight=1;
  }
  server {
  	listen 80;
      #
      #定义访问路径 访问策略
      # /意思是访问根路径的时候启动负载均衡
      location / {
          proxy_pass http://fzjh/;
      }    
  }
  
  ```

- 最终出现的效果是，每次刷新，有时候显示47.94.236.117:80的页面，有时候显示47.122.22.195:80的页面。

- 可以加上权重，优先权重大的显示。

- 我们可以将相同的站点部署到多个ip上边，其中一台服务器坏了也不要紧，我们还有其他的服务器。

### **结论：**

讲了这么多的搭建方式，用不同的技术搭建的网站， 最后信息搜集的时候，我们需要明确是用什么技术做的应用，比如OSS对象存储就将文件上传漏洞解决了。这是在为后来的信息搜集打基础。



## 思维导图

![image-20250105212931784](/img/ctfLearn/image-20250105212931784.png)